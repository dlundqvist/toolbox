TOOLBOX_DEPS=toolbox_version.h toolbox_rev.h

toolbox: toolbox.o
	sc nover obj $< pname $@ link noicons

toolbox.o: toolbox.c $(TOOLBOX_DEPS) toolbox.gst
	sc nover gst toolbox.gst csrc $< objname $@

toolbox.readme: toolbox.readme.in $(TOOLBOX_DEPS)
	sc nover pponly csrc $< objname $@

toolbox.guide: toolbox.guide.in $(TOOLBOX_DEPS)
	sc nover pponly csrc $< objname $@

toolbox.gst: gst.c
	sc nover mgst $@ csrc $< noobjname noicons

clean:
	-delete ALL toolbox.gst toolbox.o toolbox.lnk toolbox \
                toolbox.readme toolbox.guide toolbox.lha lha

toolbox.lha: toolbox toolbox.guide
	-delete all toolbox.lha lha
	makedir lha
	makedir lha/toolbox
	copy toolbox lha/toolbox/ CLONE
	copy toolbox.guide lha/toolbox/ CLONE
	lha -r a toolbox.lha lha/

dist: toolbox.readme toolbox.lha

backup: clean
	- delete /toolbox.lha
	lha a /toolbox.lha
